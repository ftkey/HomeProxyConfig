
config homeproxy 'infra'
	option __warning 'DO NOT EDIT THIS SECTION, OR YOU ARE ON YOUR OWN!'
	option common_port '22,53,80,143,443,465,853,873,993,995,8080,8443,9418'
	option mixed_port '5330'
	option redirect_port '5331'
	option tproxy_port '5332'
	option dns_port '5333'
	option tun_name 'singtun0'
	option tun_addr4 '172.19.0.1/30'
	option tun_addr6 'fdfe:dcba:9876::1/126'
	option tun_mtu '9000'
	option tun_gso '0'
	option table_mark '100'
	option self_mark '100'
	option tproxy_mark '101'
	option tun_mark '102'

config homeproxy 'config'
	option routing_mode 'custom'
	option routing_port 'common'
	option proxy_mode 'redirect_tproxy'
	option ipv6_support '0'

config homeproxy 'control'
	option lan_proxy_mode 'disabled'
	list wan_proxy_ipv4_ips '91.105.192.0/23'
	list wan_proxy_ipv4_ips '91.108.4.0/22'
	list wan_proxy_ipv4_ips '91.108.8.0/22'
	list wan_proxy_ipv4_ips '91.108.16.0/22'
	list wan_proxy_ipv4_ips '91.108.12.0/22'
	list wan_proxy_ipv4_ips '91.108.20.0/22'
	list wan_proxy_ipv4_ips '91.108.56.0/22'
	list wan_proxy_ipv4_ips '149.154.160.0/20'
	list wan_proxy_ipv4_ips '185.76.151.0/24'

config homeproxy 'routing'
	option sniff_override '1'
	option default_outbound 'direct-out'
	option udp_timeout '300'
	option bypass_cn_traffic '0'

config homeproxy 'dns'
	option dns_strategy 'prefer_ipv4'
	option default_server 'default-dns'

config homeproxy 'subscription'
	option auto_update '0'
	option allow_insecure '0'
	option packet_encoding 'xudp'
	option update_via_proxy '0'
	option filter_nodes 'blacklist'
	list filter_keywords 'ÈáçÁΩÆ|Âà∞Êúü|ËøáÊúü|Ââ©‰Ωô|Â•óÈ§ê'
	list filter_keywords 'Expiration|Remaining'

config homeproxy 'server'
	option enabled '0'
	option auto_firewall '0'

config dns_rule 'nodes_domain'
	option label 'ÈªòËÆ§ËßÑÂàô'
	option enabled '1'
	option mode 'default'
	list outbound 'any-out'
	option server 'default-dns'

config ruleset 'geosite_ads'
	option label 'geosite-ads'
	option enabled '1'
	option type 'remote'
	option format 'binary'
	option url 'https://www.ghproxy.cn/https://github.com/DustinWin/ruleset_geodata/blob/sing-box-ruleset/ads.srs'
	option outbound 'direct-out'

config ruleset 'geosite_ai'
	option label 'geosite-ai'
	option enabled '1'
	option type 'remote'
	option format 'binary'
	option url 'https://www.ghproxy.cn/https://github.com/DustinWin/ruleset_geodata/blob/sing-box-ruleset/ai.srs'
	option outbound 'direct-out'

config ruleset 'geosite_apple'
	option label 'geosite-apple-cn'
	option enabled '1'
	option type 'remote'
	option format 'binary'
	option url 'https://www.ghproxy.cn/https://github.com/DustinWin/ruleset_geodata/blob/sing-box-ruleset/apple-cn.srs'
	option outbound 'direct-out'

config ruleset 'geosite_geolocation_nocn'
	option label 'geosite-geolocation-!cn'
	option enabled '1'
	option type 'remote'
	option format 'binary'
	option url 'https://www.ghproxy.cn/https://github.com/MetaCubeX/meta-rules-dat/blob/sing/geo/geosite/geolocation-!cn.srs'
	option outbound 'direct-out'

config ruleset 'geoip_cn'
	option label 'geoip-cn'
	option enabled '1'
	option type 'remote'
	option format 'binary'
	option url 'https://www.ghproxy.cn/https://github.com/DustinWin/ruleset_geodata/blob/sing-box-ruleset/cnip.srs'
	option outbound 'direct-out'

config ruleset 'geosite_cn'
	option label 'geosite-cn'
	option enabled '1'
	option type 'remote'
	option format 'binary'
	option url 'https://www.ghproxy.cn/https://github.com/DustinWin/ruleset_geodata/blob/sing-box-ruleset/cn.srs'
	option outbound 'direct-out'

config ruleset 'geoip_telegram'
	option label 'geoip-telegram'
	option enabled '1'
	option type 'remote'
	option format 'binary'
	option url 'https://www.ghproxy.cn/https://github.com/MetaCubeX/meta-rules-dat/blob/sing/geo/geoip/telegram.srs'
	option outbound 'direct-out'

config ruleset 'geosite_games_cn'
	option label 'geosite-games-cn'
	option enabled '1'
	option type 'remote'
	option format 'binary'
	option url 'https://www.ghproxy.cn/https://github.com/DustinWin/ruleset_geodata/blob/sing-box-ruleset/games-cn.srs'
	option outbound 'direct-out'

config routing_node 'MainlyExport'
	option label 'üåê ‰∏ªÂá∫Âè£'
	option enabled '1'
	option node 'tmp1'

config routing_node 'ai'
	option label 'ü§ñ AI Âá∫Âè£'
	option enabled '1'
	option node 'tmp2'

config routing_rule 'Router_CN'
	option label 'üá®üá≥ ÂõΩÂÜÖÊµÅÈáè'
	option enabled '1'
	option mode 'default'
	option source_ip_is_private '0'
	option ip_is_private '0'
	option outbound 'direct-out'
	list rule_set 'geoip_cn'
	list rule_set 'geosite_cn'
	list rule_set 'geosite_apple'
	list rule_set 'geosite_games_cn'
	list rule_set '_direct'

config routing_rule 'Router_NoCN'
	option label 'üåê ÈùûÂõΩÂÜÖÊµÅÈáè'
	option enabled '1'
	option mode 'default'
	option source_ip_is_private '0'
	option ip_is_private '0'
	option outbound 'MainlyExport'
	list rule_set 'geosite_geolocation_nocn'
	list rule_set 'geoip_telegram'
	list rule_set '_proxy'

config routing_rule 'Router_ai'
	option label 'ü§ñ AI ‰∏ìÁî®'
	option enabled '1'
	option mode 'default'
	option source_ip_is_private '0'
	option ip_is_private '0'
	list rule_set 'geosite_ai'
	option outbound 'ai'

config routing_rule 'blockquic'
	option label 'üõë ÈòªÊ≠¢QUIC'
	option enabled '1'
	option mode 'default'
	list protocol 'quic'
	option source_ip_is_private '0'
	option ip_is_private '0'
	option outbound 'block-out'

config routing_rule 'adguard'
	option label 'üõ° ÂπøÂëäËøáÊª§'
	option enabled '1'
	option mode 'default'
	option source_ip_is_private '0'
	option ip_is_private '0'
	option outbound 'block-out'
	list rule_set 'geosite_ads'

config dns_rule 'DNSRule_CN'
	option label ' ÂõΩÂÜÖDNSËßÑÂàô'
	option enabled '1'
	option mode 'default'
	option server 'default-dns'
	list rule_set 'geosite_cn'
	list rule_set 'geosite_apple'
	list rule_set 'geosite_games_cn'
	list rule_set '_direct'

config dns_rule 'DNSRule_NoCN'
	option label 'üåê ÈùûÂõΩÂÜÖDNSËßÑÂàô'
	option enabled '1'
	option mode 'default'
	option server 'DNS_MainlyExport'
	list rule_set 'geosite_geolocation_nocn'
	list rule_set 'geosite_ai'
	list rule_set '_proxy'

config dns_rule 'DNSRule_ai'
	option label 'ü§ñ AI DNSËßÑÂàô'
	option enabled '1'
	option mode 'default'
	list rule_set 'geosite_ai'
	option server 'DNS_MainlyExport'

config dns_rule 'DNS_Adguard'
	option label 'üõ° ÂπøÂëäDNSËßÑÂàô'
	option enabled '1'
	option mode 'default'
	option server 'block-dns'
	list rule_set 'geosite_ads'

config dns_server 'DNS_MainlyExport'
	option label 'Google DNS'
	option enabled '1'
	option address 'tls://8.8.4.4'
	option address_strategy 'ipv4_only'
	option resolve_strategy 'ipv4_only'
	option outbound 'MainlyExport'

config dns_server 'Cloudflare_DNS'
	option label 'Cloudflare DNS'
	option enabled '0'
	option address 'tls://1.1.1.1'
	option outbound 'MainlyExport'
	option address_strategy 'ipv4_only'
	option resolve_strategy 'ipv4_only'


config ruleset '_direct'
	option label '_direct'
	option enabled '1'
	option type 'remote'
	option format 'source'
	option url 'https://raw.githubusercontent.com/ftkey/HomeProxyConfig/refs/heads/main/direct.json'
	option outbound 'direct-out'

config ruleset '_proxy'
	option label '_proxy'
	option enabled '1'
	option type 'remote'
	option format 'source'
	option url 'https://raw.githubusercontent.com/ftkey/HomeProxyConfig/refs/heads/main/proxy.json'
	option outbound 'direct-out'


config node 'tmp1'
	option label 'tmp1'
	option type 'direct'

config node 'tmp2'
	option label 'tmp2'
	option type 'direct'
